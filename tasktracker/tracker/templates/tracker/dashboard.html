{% extends "tracker/base.html" %}

{% block content %}
<h2>Dashboard Overview</h2>

<div style="display: flex; gap: 20px; margin-bottom: 25px; flex-wrap: wrap;">
    
    <div class="card" style="flex: 1; min-width: 200px; text-align: center;">
        <p style="margin-bottom: 5px;" class="text-secondary">Total Projects:</p>
        <p style="font-size: 2.2em; font-weight: bold; color: var(--primary-color); margin-top: 0; line-height: 1;">{{ projects_count }}</p>
    </div>

    <div class="card" style="flex: 1; min-width: 200px; text-align: center;">
        <p style="margin-bottom: 5px;" class="text-secondary">Total Tasks:</p>
        <p style="font-size: 2.2em; font-weight: bold; color: var(--primary-color); margin-top: 0; line-height: 1;">{{ total_tasks }}</p>
    </div>
</div>

<h3>Task Status Summary</h3>
<div class="card">
    {% if status_summary %}
        <ul style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
            {% for s in status_summary %}
                <li>
                    <span style="font-weight: 500;">{{ s.status|title }}</span>: <strong style="font-size: 1.1em; color: var(--text-color);">{{ s.count }}</strong>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-secondary">No tasks available to summarize.</p>
    {% endif %}
</div>

<h3>Upcoming Tasks</h3>
<div class="card">
    {% if upcoming == "No upcoming tasks!" %}
        <p class="text-secondary">No upcoming tasks!</p>
    {% else %}
        <ul>
            {% for t in upcoming %}
                <li style="display: flex; justify-content: space-between; align-items: center;">
                    <strong>{{ t.title }}</strong>
                    <small class="text-secondary">
                        â€” Due {{ t.due_date }}
                    </small>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
</div>
{% endblock %}